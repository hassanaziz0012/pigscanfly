{% extends 'base.html' %}
{% load static %}

{% block custom_css %}
<link rel="stylesheet" href="{% static 'assets/css/product_reviews.css' %}">
<link rel="stylesheet" href="{% static 'assets/css/disclosures.css' %}">

<style>
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    input[type=number] {
        -moz-appearance: textfield;
        /* Firefox */
    }

    .disclosures li {
        list-style: decimal;
        margin-bottom: 15px;
    }
</style>

{% endblock custom_css %}

{% block content %}

<!-- ***** Main Banner Area Start ***** -->
<!-- <div class="page-heading" id="top">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="inner-content">
                        <h2>Single Product Page</h2>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
<!-- ***** Main Banner Area End ***** -->


<!-- ***** Product Area Starts ***** -->
<section class="section" id="product" style="margin-top: 150px;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="left-images">
                    <img src="{{ product.image.url }}" alt="">
                </div>
            </div>
            <div class="col-lg-4">
                <div class="right-content">
                    <h4>{{ product.name }}</h4>
                    <span class="price">{{ product.price }}</span>
                    <ul class="stars">
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                    </ul>
                    <span>
                        {{ product.description }}
                    </span>
                    <div class="quantity-content">
                        <div class="left-content">
                            <h6>No. of Orders</h6>
                        </div>
                        <div class="right-content">
                            <div class="quantity buttons_added">
                                <input type="button" value="-" class="minus" onclick="subtractQuantity()">
                                <input type="number" step="1" min="1" max="" name="quantity" id="quantity" onchange="calculateTotal()" value="1"
                                    title="Qty" class="input-text qty text" size="4" pattern="" inputmode="">
                                <input type="button" value="+" class="plus" onclick="addQuantity()">
                            </div>
                        </div>
                    </div>
                    <div class="total">
                        <h4 class="calc-total">Total: </h4>
                        <div class="main-border-button"><button onclick="addToCart()" style="margin-top: 0;">Add To Cart</button></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ***** Product Area Ends ***** -->

<section id="testimonials">
    <!--heading--->
    <div class="testimonial-heading">
        <span>Comments</span>
        <h4>Clients Says</h4>
    </div>
    <!--testimonials-box-container------>
    <div class="testimonial-box-container">
        <!--BOX-1-------------->
        <div class="testimonial-box">
            <!--top------------------------->
            <div class="box-top">
                <!--profile----->
                <div class="profile">
                    <!--img---->
                    <div class="profile-img">
                        <img src="https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png" />
                    </div>
                    <!--name-and-username-->
                    <div class="name-user">
                        <strong>Liam mendes</strong>
                        <span>@liammendes</span>
                    </div>
                </div>
                <!--reviews------>
                <div class="reviews">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i><!--Empty star-->
                </div>
            </div>
            <!--Comments---------------------------------------->
            <div class="client-comment">
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem, quaerat quis? Provident
                    temporibus architecto asperiores nobis maiores nisi a. Quae doloribus ipsum aliquam tenetur
                    voluptates incidunt blanditiis sed atque cumque.</p>
            </div>
        </div>
        <!--BOX-2-------------->
        <div class="testimonial-box">
            <!--top------------------------->
            <div class="box-top">
                <!--profile----->
                <div class="profile">
                    <!--img---->
                    <div class="profile-img">
                        <img src="https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png" />
                    </div>
                    <!--name-and-username-->
                    <div class="name-user">
                        <strong>Noah Wood</strong>
                        <span>@noahwood</span>
                    </div>
                </div>
                <!--reviews------>
                <div class="reviews">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i><!--Empty star-->
                </div>
            </div>
            <!--Comments---------------------------------------->
            <div class="client-comment">
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem, quaerat quis? Provident
                    temporibus architecto asperiores nobis maiores nisi a. Quae doloribus ipsum aliquam tenetur
                    voluptates incidunt blanditiis sed atque cumque.</p>
            </div>
        </div>
        <!--BOX-3-------------->
        <div class="testimonial-box">
            <!--top------------------------->
            <div class="box-top">
                <!--profile----->
                <div class="profile">
                    <!--img---->
                    <div class="profile-img">
                        <img src="https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png" />
                    </div>
                    <!--name-and-username-->
                    <div class="name-user">
                        <strong>Oliver Queen</strong>
                        <span>@oliverqueen</span>
                    </div>
                </div>
                <!--reviews------>
                <div class="reviews">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i><!--Empty star-->
                </div>
            </div>
            <!--Comments---------------------------------------->
            <div class="client-comment">
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem, quaerat quis? Provident
                    temporibus architecto asperiores nobis maiores nisi a. Quae doloribus ipsum aliquam tenetur
                    voluptates incidunt blanditiis sed atque cumque.</p>
            </div>
        </div>
        <!--BOX-4-------------->
        <div class="testimonial-box">
            <!--top------------------------->
            <div class="box-top">
                <!--profile----->
                <div class="profile">
                    <!--img---->
                    <div class="profile-img">
                        <img src="https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png" />
                    </div>
                    <!--name-and-username-->
                    <div class="name-user">
                        <strong>Barry Allen</strong>
                        <span>@barryallen</span>
                    </div>
                </div>
                <!--reviews------>
                <div class="reviews">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i><!--Empty star-->
                </div>
            </div>
            <!--Comments---------------------------------------->
            <div class="client-comment">
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem, quaerat quis? Provident
                    temporibus architecto asperiores nobis maiores nisi a. Quae doloribus ipsum aliquam tenetur
                    voluptates incidunt blanditiis sed atque cumque.</p>
            </div>
        </div>
    </div>
</section>

<section class="disclosures">
    <div class="container">
        <div class="section-heading">
            <h2>Disclosures</h2>
        </div>
        <ol>
            <li>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos aliquam dicta reprehenderit dolore
                    maxime
                    ipsa, repellendus laudantium magnam iste sint rerum in quis! Totam, sint blanditiis ut eius
                    asperiores,
                    facilis nemo tempora possimus ea minus numquam inventore necessitatibus iusto optio? Accusamus optio
                    debitis perferendis numquam iure voluptatem recusandae dolorem totam.
                </p>
            </li>

            <li>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vitae veniam omnis cumque libero, impedit
                    dolorem corrupti animi quasi aliquid ducimus modi adipisci voluptate! Quam, praesentium atque
                    voluptate minima fugiat eaque pariatur magnam ab dolore in aperiam cum porro corrupti, quidem
                    numquam alias dolorem ullam inventore amet eligendi aut mollitia corporis.
                </p>
            </li>

            <li>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel ut eum obcaecati eveniet in quo nostrum
                    provident sapiente! Cupiditate explicabo corporis nam maxime, rem nihil, error officia hic nobis
                    consequuntur minus fugiat. Eius rerum ut illum at suscipit eum voluptate. Perspiciatis odio
                    consequatur nostrum culpa aut reprehenderit voluptatem, dicta numquam.
                </p>
            </li>

            <li>
                <p>
                    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Pariatur magni facere, quos alias hic, qui
                    eligendi aspernatur placeat voluptatibus totam molestiae facilis aperiam a esse, culpa recusandae!
                    Dolores laudantium molestiae fugit, repellat dolorum nesciunt odio labore blanditiis! Similique,
                    autem. Exercitationem rem nesciunt hic, quidem obcaecati blanditiis labore est nam consectetur.
                </p>
            </li>

        </ol>
    </div>
</section>

{% endblock content %}

{% block custom_js %}
<script>
    const quantityInput = $("input#quantity");
    calculateTotal(); // once at page load.

    function addQuantity() {
        quantityInput.val(parseInt(quantityInput.val()) + 1);
        calculateTotal();
    }

    function subtractQuantity() {
        if (quantityInput.val() > 1) {
            quantityInput.val(parseInt(quantityInput.val()) - 1);
            calculateTotal();
        }
    }

    function calculateTotal() {
        let total = (quantityInput.val() * parseFloat("{{ product.price }}")).toFixed(2);
        document.querySelector('h4.calc-total').innerHTML = `Total: $${total}`;
        return total;
    }

    function addToCart() {
        price = calculateTotal();
        window.location.href = `{% url 'add-to-cart' product_id=product.pk price="price_holder" %}`.replace('price_holder', price);
    }

</script>
{% endblock custom_js %}